=grid-classes
{
	@for !i from 1 to !column-count
	{
		.columns-!i 		{ +span(!i); }
		.push-!i 			{ +push(!i); }
		.pull-!i 			{ +pull(!i); }
		.append-!i 			{ +append(!i); }
		.prepend-!i 		{ +prepend(!i); }
		.baseline-up-!i		{ +baseline-up(!i); }
		.baseline-down-!i	{ +baseline-down(!i); }
	}
	
	#[enumerate('.columns-', 1, !column-count)]
	{
		+columns-base;
	}
}

/**
* Container
*
* Makes an element behave as a container. Defaults
* to the total width of the grid.
*
* @type Mixin
* @param !container-width The width of the container
*/
=container(!container-width = !grid-width)
{
	+clearfix;
	
	width:!container-width;
	margin:0 auto;
	position:relative;
}

/**
* Show grid
*
* Shows the grid background image
*
* @type Mixin
* @param !offset The vertical offset of the grid image
*/
=showgrid(!x = 0, !y = 0)
{
	background: url(!grid_image_data) !x !y;
}

/**
 * Span a certain number of columns
 * @param !number The number of columns
 */
=span(!n, !override = true)
{
	width:#[(!n * !column-width) + (!n * (!gutter-width * 2) - (!gutter-width * 2))]px;
}

/**
 * Columns
 *
 * Makes the element behave as a column.
 * @param !number The number of columns
 */
=columns(!n)
{
	+span(!n);
	+columns-base;
}

=columns-base
{
	position:relative;
	float:left;
	margin-right:!gutter-width;
	margin-left:!gutter-width;	
}

=first
{
	margin-left:0;
}

=last
{
	margin-right:0;
}

=baseline-up(!n)
{
	top:#[-(!baseline * !n)]px;
}

=baseline-down(!n)
{
	top:#[!baseline * !n]px;
}

/**
 * Group a bunch of columns, using the padding
 * as the margin. This allows you to create
 * backgrounds and borders
 */
=group
{
	padding:0 !gutter-width;
	margin:#[!baseline / 2]px 0;
}

/**
* Layout Utilities
*
* Various layout utilities for manipulating columns
*/

=append(!n)
{
	padding-right:#[(!column-width + (!gutter-width * 2)) * !n]px;
}

=prepend(!n)
{
	padding-left:#[(!column-width + (!gutter-width * 2)) * !n]px;
}

=baseline(!n)
{
	height:#[!baseline * !n]px;
}

=pull(!n)
{
	left:#[-((!column-width + !gutter-width * 2) * !n)]px;
	margin-right:#[-((!column-width + !gutter-width * 2) * !n - !gutter-width)]px !important;
}

=push(!n)
{
	left:#[(!column-width + !gutter-width * 2) * !n]px;
	margin-right:#[(!column-width + !gutter-width * 2) * !n + !gutter-width]px !important;
}

=column-border(!side = "right", !color = #eee, !type = "solid", !thickness = "1px")
{
	outline:!color !type;
	outline-offset:!gutter-width;
	
	@if(!side == "right")
	{
		border-width:0 !thickness 0 0;
	}
	
	@if(!side == "left")
	{
		border-width:0 0 !thickness;
	}
}
